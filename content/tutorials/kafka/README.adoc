[#title]
= Using Quarkus applications with Kafka instances in Red Hat OpenShift Streams for Apache Kafka

[#description]
In this tutorial, you will set up a Kafka instance and create topics to be used with a Quarkus application

[#introduction]

We will be using Apache Kafka, an open-source distributed event streaming platform used by thousands of companies for high-performance data pipelines, streaming analytics, data integration, and mission-critical applications.
    
You can learn more about Apache Kafka by visiting [https://kafka.apache.org/](https://kafka.apache.org/).
    
Quarkus is an open source, Kubernetes-native Java framework that allows developers to optimize container-native applications for peak performance.
    
You can learn more about Quarkus by visiting [https://quarkus.io/](https://quarkus.io/).

.Prerequisites
* Red Hat OpenShift
* Red Hat Streams for Apache Kafka

[#task-1]
== Introduction to Apache Kafka and Quarkus

The following videos give a brief introduction into Apache Kafka and Quarkus.
If you are already familiar with these you can advance to the next step.

*What is Apache Kafka?*

https://www.youtube.com/embed/FKgi3n-FyNU[What is Apache Kafka?, role="tutorial-youtube"]

*Quarkus: Supersonic, Subatomic Java*

https://www.youtube.com/embed/hhHgurtI674[Quarkus, role="tutorial-youtube"]

=== In the next step, you will create a Kafka instance and connect topics.

[#task-2]
== Creating Kafka topics

The Kafka topic that the Quarkus example application references is called prices. You need to create this topic in Streams for Apache Kafka so that the Quarkus application can interact with it.

A typical Kafka architecture might look like this:

image::https://quarkus.io/guides/images/kafka-streams-guide-architecture.png[Kafka architecture]

Click on the *Connect to RHOSAK* button to connect to _Red Hat OpenShift Streams for Apache Kafka_. Once connected, follow the quick start within it.

https://cloud.redhat.com/beta/application-services/streams/kafkas?quickstart=getting-started[Connect to RHOSAK,role="tutorial-external"]

// https://www.patternfly.org?quickstart=getting-started[Launch PatternFly iframe,role="tutorial-iframe"]
// https://www.google.com?quickstart=getting-started[Launch Google iframe,role="tutorial-iframe"]

.Verification
. Did you connect to RHOAS and create a Kafka instance?
. Did you create a Kafka topic?


[#task-3]
== Connecting Kafka to OpenShift

Now that you've set up a Kafka with topics, you'll be connecting that to an application that you create on OpenShift.

To enable your Quarkus application to access a Kafka instance, configure the connection using the bootstrap server endpoint, the generated credentials for your Streams for Apache Kafka service account, and the SASL/OAUTHBEARER token endpoint for the Kafka instance. For Quarkus, you can configure connection information by using the `+application.properties+` configuration file. The example in this task sets environment variables and then references them in the `+application.properties+` file.

Click on the *Connect to OpenShift* button to connect to _Red Hat OpenShift Streams for Apache Kafka_. Once connected, follow the quick start within it.

https://console-openshift-console.apps.sandbox.x8i5.p1.openshiftapps.com/topology/ns/jschuler-dev/graph?quickstart=quarkus[Connect to OpenShift,role="tutorial-external"]

.Verification
. Did you connect to OpenShift and create a quarkus app?
. Did you connect a Kafka topic to it?

////
[#conclusion]
Congratulations! You successfully completed the quick start.
////